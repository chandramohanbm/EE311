Version 4
SHEET 1 1368 1352
WIRE -736 -80 -960 -80
WIRE -656 -80 -736 -80
WIRE -624 -80 -656 -80
WIRE -560 -80 -576 -80
WIRE -544 -80 -560 -80
WIRE -960 -48 -960 -80
WIRE -736 -48 -736 -80
WIRE -656 -32 -656 -80
WIRE -800 0 -832 0
WIRE -384 48 -384 16
WIRE -112 48 -384 48
WIRE 320 48 -112 48
WIRE -960 64 -960 32
WIRE -944 64 -960 64
WIRE -832 64 -832 0
WIRE -832 64 -864 64
WIRE -736 80 -736 48
WIRE -592 80 -736 80
WIRE -112 80 -112 48
WIRE 0 80 -112 80
WIRE 320 80 320 48
WIRE 320 80 224 80
WIRE -736 96 -736 80
WIRE -112 96 -112 80
WIRE 320 96 320 80
WIRE 0 112 0 80
WIRE 224 112 224 80
WIRE -832 144 -832 64
WIRE -800 144 -832 144
WIRE -960 176 -960 160
WIRE -400 176 -432 176
WIRE -160 176 -320 176
WIRE -688 192 -736 192
WIRE -656 192 -656 32
WIRE -656 192 -688 192
WIRE -816 240 -1040 240
WIRE -736 240 -816 240
WIRE -112 240 -112 192
WIRE 0 240 0 176
WIRE 0 240 -112 240
WIRE 16 240 0 240
WIRE 112 240 96 240
WIRE 224 240 224 176
WIRE 224 240 192 240
WIRE 320 240 320 192
WIRE 320 240 224 240
WIRE -736 272 -736 240
WIRE -688 272 -736 272
WIRE -608 272 -624 272
WIRE -112 272 -112 240
WIRE -112 288 -112 272
WIRE 320 288 320 240
WIRE 0 304 0 240
WIRE 224 304 224 240
WIRE -1040 320 -1040 240
WIRE -816 320 -816 240
WIRE -688 352 -688 272
WIRE -880 368 -912 368
WIRE -400 368 -512 368
WIRE -160 368 -320 368
WIRE 416 368 368 368
WIRE -112 400 -112 384
WIRE 0 400 0 368
WIRE 0 400 -112 400
WIRE 224 400 224 368
WIRE 320 400 320 384
WIRE 320 400 224 400
WIRE -1040 432 -1040 400
WIRE -1024 432 -1040 432
WIRE -912 432 -912 368
WIRE -912 432 -944 432
WIRE -112 432 -112 400
WIRE -112 432 -384 432
WIRE 320 432 320 400
WIRE 320 432 -112 432
WIRE -816 448 -816 416
WIRE -784 448 -816 448
WIRE -816 464 -816 448
WIRE -384 464 -384 432
WIRE -912 512 -912 432
WIRE -880 512 -912 512
WIRE -1040 544 -1040 528
WIRE -688 560 -688 416
WIRE -688 560 -816 560
WIRE -816 592 -816 560
WIRE -1104 672 -1104 640
WIRE -624 688 -624 656
WIRE -1168 720 -1216 720
WIRE -688 736 -736 736
WIRE -1216 784 -1216 720
WIRE -1104 800 -1104 768
WIRE -960 800 -1104 800
WIRE -1104 816 -1104 800
WIRE -736 816 -736 736
WIRE -624 816 -624 784
WIRE -480 816 -624 816
WIRE -624 832 -624 816
WIRE -1216 864 -1216 784
WIRE -1168 864 -1216 864
WIRE -736 880 -736 816
WIRE -688 880 -736 880
FLAG -384 464 0
FLAG 448 176 V_Anew
FLAG -384 16 Vcc
FLAG -1696 272 0
FLAG -1808 272 0
FLAG -1888 192 V_A
FLAG -1808 192 V_B
FLAG -112 272 V_ref
FLAG -1888 272 0
FLAG -432 176 V_Bnew
FLAG -592 80 V_Anew
FLAG -1696 192 Vcc
FLAG -544 -80 Vcc
FLAG -784 448 V_Bnew
FLAG -608 272 Vcc
FLAG 320 240 V_ref2
FLAG 496 368 V_A1
FLAG -512 368 V_B1
FLAG -1088 144 V_A
FLAG -960 176 0
FLAG -1168 512 V_B
FLAG -1040 544 0
FLAG -960 800 V_A1
FLAG -1104 640 Vcc
FLAG -1296 784 V_A
FLAG -480 816 V_B1
FLAG -624 656 Vcc
FLAG -816 816 V_B
FLAG -1104 912 0
FLAG -624 928 0
FLAG -1488 256 0
FLAG -1488 176 Vin
FLAG -816 592 V_ref2
FLAG -688 192 V_ref
SYMBOL diode 16 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 240 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 16 368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode 240 368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL ind 0 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 5.8m
SYMBOL res 96 256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 5.03
SYMBOL nmos -160 96 R0
WINDOW 3 -76 -15 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M1
SYMBOL nmos 368 96 M0
WINDOW 3 -98 -18 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M2
SYMBOL nmos 368 288 M0
WINDOW 3 -129 19 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M3
SYMBOL nmos -160 288 R0
WINDOW 3 -115 53 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M4
SYMBOL voltage -1808 176 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -105 156 Left 2
WINDOW 3 -116 133 Left 2
SYMATTR InstName Switch_Control_Signal_B1
SYMATTR Value PULSE(0 5 0 1n 1n 0.05 0.1)
SYMBOL voltage -1888 176 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -184 180 Left 2
WINDOW 3 -218 202 Left 2
SYMATTR InstName Switch_Control_Signal_A1
SYMATTR Value PULSE(0 5 0.05 1n 1n 0.05 0.1)
SYMBOL voltage -1696 176 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -98 -44 Left 2
SYMATTR InstName Power_Supply
SYMATTR Value 13
SYMBOL npn -800 -48 R0
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL pnp -800 192 M180
WINDOW 0 31 49 Left 2
WINDOW 3 50 68 Left 2
SYMATTR InstName Q2
SYMATTR Value BC557B
SYMBOL res -304 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 575.98
SYMBOL npn -880 320 R0
SYMATTR InstName Q3
SYMATTR Value BC547B
SYMBOL pnp -880 560 M180
SYMATTR InstName Q4
SYMATTR Value BC557B
SYMBOL res -304 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 575.98
SYMBOL res 512 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 575.98
SYMBOL res 464 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 575.98
SYMBOL cap -672 -32 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL res -848 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 35 48 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL cap -704 352 R0
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL res -928 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL res -944 48 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 1k
SYMBOL nmos -1008 64 R0
WINDOW 3 -76 -15 Left 2
WINDOW 0 67 74 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M5
SYMBOL res -992 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 389
SYMBOL res -1024 416 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL nmos -1088 432 R0
WINDOW 3 -76 -15 Left 2
WINDOW 0 67 74 Left 2
SYMATTR Value FQB55N10
SYMATTR InstName M6
SYMBOL res -1072 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 389
SYMBOL npn -1168 672 R0
SYMATTR InstName Q5
SYMATTR Value BC547B
SYMBOL pnp -1168 912 M180
WINDOW 0 31 49 Left 2
WINDOW 3 50 68 Left 2
SYMATTR InstName Q6
SYMATTR Value BC557B
SYMBOL res -1200 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 5K
SYMBOL npn -688 688 R0
SYMATTR InstName Q7
SYMATTR Value BC547B
SYMBOL pnp -688 928 M180
WINDOW 0 31 49 Left 2
WINDOW 3 50 68 Left 2
SYMATTR InstName Q8
SYMATTR Value BC557B
SYMBOL res -720 800 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 5K
SYMBOL diode -560 -64 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMBOL diode -624 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMBOL voltage -1488 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 2
TEXT 8 496 Left 3 ;H - Bridge Switching Circuit
TEXT -216 544 Left 3 ;The inputs come from the microcontroller pins
TEXT -1664 328 Left 2 !.tran 1s
